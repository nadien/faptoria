var app=angular.module("faptoriaApp",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch","ui.router","ngFileUpload","toaster","noCAPTCHA","ui.bootstrap","bw.paging","720kb.socialshare","ngProgress"]);app.config(["$stateProvider","$locationProvider","$urlRouterProvider","$httpProvider","noCAPTCHAProvider",function(a,b,c,d,e){function f(a,b){var c=a.defer();return h?(a.reject(),b.path("/home")):c.resolve(),c.promise}function g(a,b){var c=a.defer();return h?c.resolve():b.path("/login"),c.promise}e.setSiteKey("6LdSECATAAAAAAHr8wh0VEJP3K2S9zZfDPs5Nw4j"),e.setTheme("dark"),b.html5Mode(!0),b.hashPrefix("!"),c.otherwise("/");const h=window.localStorage.fd4deef86e4149be2649a12aac29484a;d.defaults.useXDomain=!0,d.defaults.headers.common["x-access-token"]=h,d.defaults.headers.post["x-access-token"]=h,a.state("/",{url:"/",views:{header1:{templateUrl:"/views/header.html"},contenido:{templateUrl:"/views/home.html",controller:"homeController"},sidebar:{templateUrl:"/views/sidebar.html",controller:"sidebarCtrl"}}}).state("/page",{url:"/page/:id",views:{header1:{templateUrl:"/views/header.html"},contenido:{templateUrl:"/views/home.html",controller:"homeController"},sidebar:{templateUrl:"/views/sidebar.html",controller:"sidebarCtrl"}}}).state("tablero",{url:"/tablero/:name",views:{header1:{templateUrl:"/views/header.html"},contenido:{templateUrl:"/views/board.html",controller:"BoardCtrl"},sidebar:{templateUrl:"/views/sidebar.html",controller:"sidebarCtrl"}}}).state("admin",{url:"/admin",views:{admin:{templateUrl:"views/admin/admin.html",controller:"AdminCtrl"}}}).state("admin/:id",{url:"/admin/:id",views:{headerAdmin:{templateUrl:"views/admin/header_admin.html"},admin:{templateUrl:function(a){return"views/admin/"+a.id+".html"},controller:"DashboardCtrl"}},resolve:{loginRequired:g}}).state("/moderar",{url:"/moderar",views:{header1:{templateUrl:"views/header.html"},contenido:{templateUrl:"views/moderar.html",controller:"ModerarCtrl"},sidebar:{templateUrl:"/views/sidebar.html",controller:"sidebarCtrl"}}}).state("/subir",{url:"/subir",views:{header1:{templateUrl:"views/header.html"},contenido:{templateUrl:"views/upload.html",controller:"SubirCtrl"}}}).state("/acerca",{url:"/acerca",views:{header1:{templateUrl:"views/header.html"},contenido:{templateUrl:"views/about.html"}}}).state("/contacto",{url:"/contacto",views:{header1:{templateUrl:"views/header.html"},contenido:{templateUrl:"views/contacto.html"}}}).state("/Entrar",{url:"/Entrar",resolve:{skipIfLoggedIn:f},views:{header1:{templateUrl:"views/header.html"},contenido:{templateUrl:"views/login/login.html",controller:"LoginCtrl"}}}).state("/registro",{url:"/registro",views:{header1:{templateUrl:"views/header.html"},contenido:{templateUrl:"views/login/signup.html",controller:"SignupCtrl"}}}),f.$inject=["$q","$location"],g.$inject=["$q","$location"]}]),app.controller("indexController",["$scope","ngProgressFactory",function(a,b){var c=b.createInstance();c.setColor("#0DEEE7"),c.start(),window.onload=function(){c.complete()}}]),angular.module("bw.paging",[]).directive("paging",function(){function a(a,b,c){a.$watchCollection("[page,pageSize,total]",function(){l(a,c)})}function b(a,b){return'<ul data-ng-hide="Hide" data-ng-class="ulClass"> <li title="{{Item.title}}" data-ng-class="Item.liClass" data-ng-repeat="Item in List"> <a '+(b.pgHref?'data-ng-href="{{Item.pgHref}}" ':"href ")+'data-ng-class="Item.aClass" data-ng-click="Item.action()" data-ng-bind="Item.value"></a> </li></ul>'}function c(a,b){a.List=[],a.Hide=!1,a.page=parseInt(a.page)||1,a.total=parseInt(a.total)||0,a.adjacent=parseInt(a.adjacent)||2,a.pgHref=a.pgHref||"",a.dots=a.dots||"...",a.ulClass=a.ulClass||"pagination",a.activeClass=a.activeClass||"active",a.disabledClass=a.disabledClass||"disabled",a.textFirst=a.textFirst||"<<",a.textLast=a.textLast||">>",a.textNext=a.textNext||">",a.textPrev=a.textPrev||"<",a.textFirstClass=a.textFirstClass||"",a.textLastClass=a.textLastClass||"",a.textNextClass=a.textNextClass||"",a.textPrevClass=a.textPrevClass||"",a.textTitlePage=a.textTitlePage||"Page {page}",a.textTitleFirst=a.textTitleFirst||"First Page",a.textTitleLast=a.textTitleLast||"Last Page",a.textTitleNext=a.textTitleNext||"Next Page",a.textTitlePrev=a.textTitlePrev||"Previous Page",a.hideIfEmpty=d(a,b.hideIfEmpty),a.showPrevNext=d(a,b.showPrevNext),a.showFirstLast=d(a,b.showFirstLast),a.scrollTop=d(a,b.scrollTop)}function d(a,b){return angular.isDefined(b)?!!a.$parent.$eval(b):!1}function e(a,b){a.page>b&&(a.page=b),a.page<=0&&(a.page=1),a.adjacent<=0&&(a.adjacent=2),1>=b&&(a.Hide=a.hideIfEmpty)}function f(a,b){a.page!=b&&(a.page=b,a.pagingAction({page:a.page,pageSize:a.pageSize,total:a.total}),a.scrollTop&&scrollTo(0,0))}function g(a,b,c){if(!(!a.showPrevNext&&!a.showFirstLast||1>b)){var d,e,g;if("prev"===c){d=a.page-1<=0;var h=a.page-1<=0?1:a.page-1;a.showFirstLast&&(e={value:a.textFirst,title:a.textTitleFirst,aClass:a.textFirstClass,page:1}),a.showPrevNext&&(g={value:a.textPrev,title:a.textTitlePrev,aClass:a.textPrevClass,page:h})}else{d=a.page+1>b;var i=a.page+1>=b?b:a.page+1;a.showPrevNext&&(e={value:a.textNext,title:a.textTitleNext,aClass:a.textNextClass,page:i}),a.showFirstLast&&(g={value:a.textLast,title:a.textTitleLast,aClass:a.textLastClass,page:b})}var j=function(b,c){return{value:b.aClass?"":b.value,title:b.title,liClass:c?a.disabledClass:"",aClass:b.aClass,pgHref:a.pgHref.replace(m,b.page),action:function(){c||f(a,b.page)}}};if(e){var k=j(e,d);a.List.push(k)}if(g){var l=j(g,d);a.List.push(l)}}}function h(a,b,c){var d=0;for(d=a;b>=d;d++)c.List.push({value:d,title:c.textTitlePage.replace(m,d),liClass:c.page==d?c.activeClass:"",pgHref:c.pgHref.replace(m,d),action:function(){f(c,this.value)}})}function i(a){a.List.push({value:a.dots,liClass:a.disabledClass})}function j(a,b){h(1,2,a),3!=b&&i(a)}function k(a,b,c){c!=a-2&&i(b),h(a-1,a,b)}function l(a,b){(!a.pageSize||a.pageSize<=0)&&(a.pageSize=1);var d=Math.ceil(a.total/a.pageSize);c(a,b),e(a,d);var f,i,l=2*a.adjacent+2;g(a,d,"prev"),l+2>=d?(f=1,h(f,d,a)):a.page-a.adjacent<=2?(f=1,i=1+l,h(f,i,a),k(d,a,i)):a.page<d-(a.adjacent+2)?(f=a.page-a.adjacent,i=a.page+a.adjacent,j(a,f),h(f,i,a),k(d,a,i)):(f=d-l,i=d,j(a,f),h(f,i,a)),g(a,d,"next")}var m=/\{page\}/g;return{restrict:"EA",link:a,template:b,scope:{page:"=",pageSize:"=",total:"=",dots:"@",ulClass:"@",activeClass:"@",disabledClass:"@",adjacent:"@",pagingAction:"&",pgHref:"@",textFirst:"@",textLast:"@",textNext:"@",textPrev:"@",textFirstClass:"@",textLastClass:"@",textNextClass:"@",textPrevClass:"@",textTitlePage:"@",textTitleFirst:"@",textTitleLast:"@",textTitleNext:"@",textTitlePrev:"@"}}}),angular.module("bw.paging",[]).directive("paging",function(){function a(a,b,c){a.$watchCollection("[page,pageSize,total]",function(){l(a,c)})}function b(a,b){return'<ul data-ng-hide="Hide" data-ng-class="ulClass"> <li title="{{Item.title}}" data-ng-class="Item.liClass" data-ng-repeat="Item in List"> <a '+(b.pgHref?'data-ng-href="{{Item.pgHref}}" ':"href ")+'data-ng-class="Item.aClass" data-ng-click="Item.action()" data-ng-bind="Item.value"></a> </li></ul>'}function c(a,b){a.List=[],a.Hide=!1,a.page=parseInt(a.page)||1,a.total=parseInt(a.total)||0,a.adjacent=parseInt(a.adjacent)||2,a.pgHref=a.pgHref||"",a.dots=a.dots||"...",a.ulClass=a.ulClass||"pagination",a.activeClass=a.activeClass||"active",a.disabledClass=a.disabledClass||"disabled",a.textFirst=a.textFirst||"<<",a.textLast=a.textLast||">>",a.textNext=a.textNext||">",a.textPrev=a.textPrev||"<",a.textFirstClass=a.textFirstClass||"",a.textLastClass=a.textLastClass||"",a.textNextClass=a.textNextClass||"",a.textPrevClass=a.textPrevClass||"",a.textTitlePage=a.textTitlePage||"Page {page}",a.textTitleFirst=a.textTitleFirst||"First Page",a.textTitleLast=a.textTitleLast||"Last Page",a.textTitleNext=a.textTitleNext||"Next Page",a.textTitlePrev=a.textTitlePrev||"Previous Page",a.hideIfEmpty=d(a,b.hideIfEmpty),a.showPrevNext=d(a,b.showPrevNext),a.showFirstLast=d(a,b.showFirstLast),a.scrollTop=d(a,b.scrollTop)}function d(a,b){return angular.isDefined(b)?!!a.$parent.$eval(b):!1}function e(a,b){a.page>b&&(a.page=b),a.page<=0&&(a.page=1),a.adjacent<=0&&(a.adjacent=2),1>=b&&(a.Hide=a.hideIfEmpty)}function f(a,b){a.page!=b&&(a.page=b,a.pagingAction({page:a.page,pageSize:a.pageSize,total:a.total}),a.scrollTop&&scrollTo(0,0))}function g(a,b,c){if(!(!a.showPrevNext&&!a.showFirstLast||1>b)){var d,e,g;if("prev"===c){d=a.page-1<=0;var h=a.page-1<=0?1:a.page-1;a.showFirstLast&&(e={value:a.textFirst,title:a.textTitleFirst,aClass:a.textFirstClass,page:1}),a.showPrevNext&&(g={value:a.textPrev,title:a.textTitlePrev,aClass:a.textPrevClass,page:h})}else{d=a.page+1>b;var i=a.page+1>=b?b:a.page+1;a.showPrevNext&&(e={value:a.textNext,title:a.textTitleNext,aClass:a.textNextClass,page:i}),a.showFirstLast&&(g={value:a.textLast,title:a.textTitleLast,aClass:a.textLastClass,page:b})}var j=function(b,c){return{value:b.aClass?"":b.value,title:b.title,liClass:c?a.disabledClass:"",aClass:b.aClass,pgHref:a.pgHref.replace(m,b.page),action:function(){c||f(a,b.page)}}};if(e){var k=j(e,d);a.List.push(k)}if(g){var l=j(g,d);a.List.push(l)}}}function h(a,b,c){var d=0;for(d=a;b>=d;d++)c.List.push({value:d,title:c.textTitlePage.replace(m,d),liClass:c.page==d?c.activeClass:"",pgHref:c.pgHref.replace(m,d),action:function(){f(c,this.value)}})}function i(a){a.List.push({value:a.dots,liClass:a.disabledClass})}function j(a,b){h(1,2,a),3!=b&&i(a)}function k(a,b,c){c!=a-2&&i(b),h(a-1,a,b)}function l(a,b){(!a.pageSize||a.pageSize<=0)&&(a.pageSize=1);var d=Math.ceil(a.total/a.pageSize);c(a,b),e(a,d);var f,i,l=2*a.adjacent+2;g(a,d,"prev"),l+2>=d?(f=1,h(f,d,a)):a.page-a.adjacent<=2?(f=1,i=1+l,h(f,i,a),k(d,a,i)):a.page<d-(a.adjacent+2)?(f=a.page-a.adjacent,i=a.page+a.adjacent,j(a,f),h(f,i,a),k(d,a,i)):(f=d-l,i=d,j(a,f),h(f,i,a)),g(a,d,"next")}var m=/\{page\}/g;return{restrict:"EA",link:a,template:b,scope:{page:"=",pageSize:"=",total:"=",dots:"@",ulClass:"@",activeClass:"@",disabledClass:"@",adjacent:"@",pagingAction:"&",pgHref:"@",textFirst:"@",textLast:"@",textNext:"@",textPrev:"@",textFirstClass:"@",textLastClass:"@",textNextClass:"@",textPrevClass:"@",textTitlePage:"@",textTitleFirst:"@",textTitleLast:"@",textTitleNext:"@",textTitlePrev:"@"}}}),angular.module("faptoriaApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("faptoriaApp").controller("homeController",["$scope","$rootScope","$http","toaster",function(a,b,c,d){var e=window.localStorage.fd4deef86e4149be2649a12aac29484a,f=window.location.href.split("/")[4];c.post("/api/getPhotos",{}).success(function(b,c){a.total=b.length,a.currentPage=f,a.numPerPage=10,a.maxSize=10}).error(function(b){a.mensaje="falló la llamada al servidor"}),c.post("/api/getAds",{}).success(function(b,c){a.ads=b}).error(function(b){a.mensaje="falló la llamada al servidor"}),void 0==f&&(f=1),c.post("/api/getPhotos/page/"+f,{}).success(function(b,c){a.images=b}).error(function(b){a.mensaje="falló la llamada al servidor"}),a.DoCtrlPagingAct=function(b,d,e,f){c.post("/api/getPhotos/page/"+d,{}).success(function(b,c){a.images=b}).error(function(b){a.mensaje="falló la llamada al servidor"})},e?(c.post("/api/getRole",{}).success(function(b,c){b.userData&&(b.userData._doc.role<=2?a.value=!0:b.userData._doc.role>=3&&(a.value=!1))}).error(function(b){a.mensaje="falló la llamada al servidor"}),a.votarPos=function(b,d,e){a.disableNeg={},a.disablePos={},a.contadorPos++,c.post("/api/vote/"+b,{votePos:a.contadorPos,voteNeg:d}).success(function(b){"Falló la autenticación de token."==b.message&&(window.localStorage.removeItem("fd4deef86e4149be2649a12aac29484a"),window.location.reload()),0==b.success?(a.contadorPos--,a.disableNeg[e]=!0,a.disablePos[e]=!0):1==b.success&&(a.disableNeg[e]=!0,a.disablePos[e]=!0)}).error(function(a){localStorage.removeItem("fd4deef86e4149be2649a12aac29484a"),window.location.href="/"})},a.votarNeg=function(b,e,f){a.disableNeg={},a.disablePos={},a.contadorNeg++,c.post("/api/vote/"+b,{voteNeg:a.contadorNeg,votePos:e}).success(function(b){"Falló la autenticación de token."==b.message&&(window.localStorage.removeItem("fd4deef86e4149be2649a12aac29484a"),window.location.reload()),0==b.success?(a.contadorNeg--,a.disableNeg[f]=!0,a.disablePos[f]=!0):1==b.success&&(a.disableNeg[f]=!0,a.disablePos[f]=!0)}).error(function(a){d.pop("error","Error","Falló la llamada al servidor")})}):(a.votarPos=function(){d.pop("error","Error","Necesitas registrarte para votar"),a.disableButtons=!0},a.votarNeg=function(){d.pop("error","Error","Necesitas registrarte para votar"),a.disableButtons=!0}),a["delete"]=function(b){c["delete"]("/api/delete_photo/"+b,{}).success(function(b,c){"Falló la autenticación de token."==b.message&&(window.localStorage.removeItem("fd4deef86e4149be2649a12aac29484a"),window.location.reload()),1==b.success?d.pop("note","Éxito","Se eliminó la imagen correctamente"):d.pop("note","Falló","Ya eliminaste la imagen."),a.message=b}).error(function(b){a.mensaje="falló la llamada al servidor"})}}]),angular.module("faptoriaApp").controller("ModerarCtrl",["$scope","$http","toaster",function(a,b,c){var d=window.localStorage.fd4deef86e4149be2649a12aac29484a;a.show=!0,b.post("/api/getPhotosModerate",{}).success(function(b,c){a.images=b,a.random=Math.floor(Math.random()*a.images.length),0==b.length&&(a.show=!1,a.message="No hay más imágenes por mostrar")}).error(function(b){a.mensaje="falló la llamada al servidor"}),d?(b.post("/api/getRole",{}).success(function(b,c){b.userData._doc.role<=2?a.value=!0:b.userData._doc.role>=3&&(a.value=!1)}).error(function(b){a.mensaje="falló la llamada al servidor"}),a.votarPos=function(c){a.images[a.random].votes.positives++,b.post("/api/vote/"+c,{votePos:a.images[a.random].votes.positives,voteNeg:a.images[a.random].votes.negatives}).success(function(b){"Falló la autenticación de token."==b.message&&(window.localStorage.removeItem("fd4deef86e4149be2649a12aac29484a"),window.location.reload()),0==b.success?(a.images[a.random].votes.positives--,a.disableNeg=!0,a.disablePos=!0):1==b.success&&(a.disableNeg=!0,a.disablePos=!0)}).error(function(b){0==b.success?a.message="Necesitas estar registrado para votar":a.message="falló la llamada al servidor"})},a.votarNeg=function(c){a.images[a.random].votes.negatives++,b.post("/api/vote/"+c,{voteNeg:a.images[a.random].votes.negatives,votePos:a.images[a.random].votes.positives}).success(function(b){a.message=b,"Falló la autenticación de token."==b.message&&(window.localStorage.removeItem("fd4deef86e4149be2649a12aac29484a"),window.location.reload()),0==b.success?(a.images[a.random].votes.negatives--,a.disableNeg=!0,a.disablePos=!0):1==b.success&&(a.disableNeg=!0,a.disablePos=!0)}).error(function(b){0==b.success?a.message="Necesitas estar registrado para votar":a.message="falló la llamada al servidor"})}):(a.votarPos=function(){c.pop("error","Error","Necesitas registrarte para votar"),a.disableNeg=!0,a.disablePos=!0},a.votarNeg=function(){c.pop("error","Error","Necesitas registrarte para votar"),a.disableNeg=!0,a.disablePos=!0}),a["delete"]=function(c){b["delete"]("/api/delete_photo/"+c,{}).success(function(a,b){"Falló la autenticación de token."==a.message&&(window.localStorage.removeItem("fd4deef86e4149be2649a12aac29484a"),window.location.reload()),1==a.success&&window.location.reload()}).error(function(b){a.mensaje="falló la llamada al servidor"})},a.approve=function(c){b.post("/api/approve/"+c,{}).success(function(a,b){"Falló la autenticación de token."==a.message&&(window.localStorage.removeItem("fd4deef86e4149be2649a12aac29484a"),window.location.reload()),1==a.success&&window.location.reload()}).error(function(b){a.mensaje="falló la llamada al servidor"})}}]),angular.module("faptoriaApp").controller("SubirCtrl",["$scope","$http","Upload",function(a,b,c){var d=window.localStorage.fd4deef86e4149be2649a12aac29484a;d?b.post("/api/getRole",{}).success(function(b,c){0==b.success&&(a.message="Tienes que registrarte para subir imagen",a.value=!1),b.userData&&b.userData._doc.role&&(a.value=!0,a.formImg={BoxId:b.userData._doc._id})}).error(function(b){a.message="falló la llamada al servidor"}):(a.message="Tienes que registrarte para subir imagen",a.value=!1)}]),angular.module("faptoriaApp").controller("SignupCtrl",["$scope","$http","toaster",function(a,b,c){a.signup=function(){a.gRecaptchaResponse?b.post("/api/signup",a.formSignup).success(function(b,d){a.message=b.message,1==b.success&&(c.pop("note","Éxito","Te registraste con éxito."),setTimeout(window.location.href="/#/Entrar",1e3))}).error(function(b){a.message="falló la llamada al servidor"}):a.gRecaptchaResponse||c.pop("note","Error","Comprueba que no eres un robot.")}}]),angular.module("faptoriaApp").controller("AdminCtrl",["$scope","$http","$timeout",function(a,b,c){b.post("/api/getRole",{}).success(function(a,b){a.userData._doc.role<=2?window.location.href="/admin/dashboard":a.userData._doc.role>=3&&(window.location.href="#/")}).error(function(b){a.mensaje="falló la llamada al servidor"}),a.loginAdmin=function(c){b.post("/api/login",a.formLogin).success(function(b,c){b.success===!0?(window.localStorage.fd4deef86e4149be2649a12aac29484a=b.token,window.localStorage.nombre=b.userData.nick,window.location.reload(),a.message=b):a.message=b}).error(function(b){a.mensaje="falló la llamada al servidor"})}}]),angular.module("faptoriaApp").controller("LoginCtrl",["$scope","$http","$rootScope","toaster",function(a,b,c,d){a.login=function(){b.post("/api/login",a.formLogin).success(function(a,b){a.success===!0?(window.localStorage.fd4deef86e4149be2649a12aac29484a=a.token,window.localStorage.nombre=a.userData.nick,window.location.href="/#/",window.location.reload()):d.pop("error","Error",a)}).error(function(b){a.mensaje="falló la llamada al servidor"})}}]),angular.module("faptoriaApp").controller("BoardCtrl",["$http","$scope","toaster",function(a,b,c){var d=window.location.href.split("/")[4],e=window.localStorage.fd4deef86e4149be2649a12aac29484a;a.post("/api/getPhoto/"+d,{}).success(function(a,c){b.image=a}).error(function(a){b.mensaje="falló la llamada al servidor"}),a.post("/api/getAds",{}).success(function(a,c){b.ads=a}).error(function(a){b.mensaje="falló la llamada al servidor"}),e?(a.post("/api/getRole",{}).success(function(a,c){a.userData._doc.role<=2?b.value=!0:a.userData._doc.role>=3&&(b.value=!1)}).error(function(a){b.mensaje="falló la llamada al servidor"}),b.votarPos=function(c){b.image.votes.positives++,a.post("/api/vote/"+c,{votePos:b.image.votes.positives,voteNeg:b.image.votes.negatives}).success(function(a){b.message=a,"Falló la autenticación de token."==a.message&&(window.localStorage.removeItem("fd4deef86e4149be2649a12aac29484a"),window.location.reload()),0==a.success?(b.image.votes.positives--,b.disableNeg=!0,b.disablePos=!0):1==a.success&&(b.disableNeg=!0,b.disablePos=!0)}).error(function(a){0==a.success?b.message="Necesitas estar registrado para votar":b.message="falló la llamada al servidor"})},b.votarNeg=function(c){b.image.votes.negatives++,a.post("/api/vote/"+c,{voteNeg:b.image.votes.negatives,votePos:b.image.votes.positives}).success(function(a){"Falló la autenticación de token."==a.message&&(window.localStorage.removeItem("fd4deef86e4149be2649a12aac29484a"),window.location.reload()),b.message=a,0==a.success?(b.image.votes.negatives--,b.disableNeg=!0,b.disablePos=!0):1==a.success&&(b.disableNeg=!0,b.disablePos=!0)}).error(function(a){0==a.success?b.message="Necesitas estar registrado para votar":b.message="falló la llamada al servidor"})}):(b.votarPos=function(){c.pop("error","Error","Necesitas registrarte para votar"),b.disableNeg=!0,b.disablePos=!0},b.votarNeg=function(){c.pop("error","Error","Necesitas registrarte para votar"),b.disableNeg=!0,b.disablePos=!0}),b["delete"]=function(c){a["delete"]("/api/delete_photo/"+c,{}).success(function(a){"Falló la autenticación de token."==a.message&&(window.localStorage.removeItem("fd4deef86e4149be2649a12aac29484a"),window.location.reload()),1==a.success&&(window.location.href="/"),b.message=a}).error(function(a){b.mensaje="falló la llamada al servidor"})}}]),angular.module("faptoriaApp").controller("DashboardCtrl",["$scope","$http","$rootScope","toaster",function(a,b,c,d){b.post("/api/users",{}).success(function(b,c){a.message=b}).error(function(b){a.mensaje="falló la llamada al servidor"}),a["delete"]=function(c){b["delete"]("/api/delete_user/"+c,{}).success(function(b){a.message=b}).error(function(b){a.mensaje="falló la llamada al servidor"})},a.addSidebar=function(){b.post("api/sidebar",a.formAd).success(function(a){d.pop("note","Éxito","Anuncio agregador correctamente")}).error(function(b){a.message="falló la llamada al servidor"})},a.addAd=function(c){b.post("api/addAd",{title:"",content:c}).success(function(a){d.pop("note","Éxito","Anuncio agregador correctamente")}).error(function(b){a.message="falló la llamada al servidor"})},a.addText=function(a){b.post("/api/config",{conf:"topbarText",topText:a}).success(function(a){d.pop("note","Éxito","Texto agregador correctamente")}).error(function(a){})},a.activateDonation=function(a){b.post("/api/config",{conf:"donate",donate:a}).success(function(a){d.pop("note","Éxito","Cambio correcto")}).error(function(a){alert(a)})},a.activateHeader=function(a){b.post("/api/config",{conf:"topbarBool",bool:a}).success(function(a){d.pop("note","Éxito","Cambio correcto")}).error(function(a){alert(a)})},b.post("/api/configRes",{}).success(function(b){a.datagrama=b}).error(function(b){a.message=b}),c.globalShow=!1,a.activateGlobalShow=function(){c.globalShow=!0}}]).filter("addWidth",function(){return function(a){a.replace(/(.)(>$)/g,'"width=100%"$1')}}),angular.module("faptoriaApp").controller("HeadercontrollerCtrl",["$scope","$rootScope","$http",function(a,b,c){b.nombres=window.localStorage.nombre,window.localStorage.fd4deef86e4149be2649a12aac29484a?(a.signOrLog="Perfil",a.valueShow=!0):a.signOrLog="Entrar",a.salir=function(){localStorage.clear(),window.location.href="/",window.location.reload()},c.post("/api/configRes",{}).success(function(b){a.datagram=b}).error(function(b){a.message=b})}]),angular.module("faptoriaApp").controller("sidebarCtrl",["$http","$scope",function(a,b){a.post("/api/getArticles",{}).success(function(a){b.articles=a}).error(function(a){b.message=a})}]),angular.module("faptoriaApp").run(["$templateCache",function(a){"use strict";a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/admin/admin.html",'<div class="container" style="padding:10em"> <div class="row col-md-5 col-md-offset-3"> <form class="form-signin" ng-submit="loginAdmin()"> <h2 class="form-signin-heading">Admin</h2> <label for="inputEmail" class="sr-only">Email</label> <input type="email" id="email" class="form-control" placeholder="Email" required autofocus ng-model="formLogin.email"> <label for="inputPassword" class="sr-only">Contraseña</label> <input type="password" id="password" class="form-control" placeholder="Contraseña" required ng-model="formLogin.password"> <div class="checkbox"> </div> <button class="btn btn-lg btn-primary btn-block" type="submit">Entrar</button> </form> </div> <!-- /container --> </div>'),a.put("views/admin/anuncios.html",'<!-- Bootstrap core CSS --> <link href="http://getbootstrap.com/assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet"> <link href="http://getbootstrap.com/dist/css/bootstrap.min.css" rel="stylesheet"> <meta name="viewport" content="width=device-width,initial-scale=1"> <!-- IE10 viewport hack for Surface/desktop Windows 8 bug --> <link href="http://getbootstrap.com/examples/dashboard/dashboard.css" rel="stylesheet"> <!-- Custom styles for this template --> <link href="http://getbootstrap.com/dist/css/bootstrap.min.css" rel="stylesheet"> <div class="container-fluid"> <div class="row"> <div class="col-sm-3 col-md-2 sidebar" style="position: fixed"> <ul class="nav nav-sidebar"> <li><a href="/admin">Dashboard <span class="sr-only">(current)</span></a></li> <li><a href="/admin/usuarios">Usuarios</a></li> <li class="active"><a href="/admin/anuncios">Anuncios</a></li> <li><a href="/admin/settings">Configuraciones</a></li> </ul> </div> <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main"> <h2 class="sub-header">Anuncios</h2> <h4> En sidebar </h4> <form ng-submit="addSidebar()" enctype="multipart/form-data"> <input type="text" name="title" class="form-control" ng-model="formAd.title"><br> <textarea name="content" ng-model="formAd.content" class="form-control" required autofocus></textarea> <br> <input class="btn btn-lg btn-primary btn-block" type="submit" value="Enviar"> </form> <hr> <h4> Debajo de imágenes </h4> <form ng-submit="addAd(content)"> <textarea name="content" ng-model="content" class="form-control" required autofocus></textarea> <br> <input class="btn btn-lg btn-primary btn-block" type="submit" value="Enviar"> </form> </div> </div> </div>'),a.put("views/admin/dashboard.html",'<!-- Bootstrap core CSS --> <link href="http://getbootstrap.com/assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet"> <link href="http://getbootstrap.com/dist/css/bootstrap.min.css" rel="stylesheet"> <meta name="viewport" content="width=device-width,initial-scale=1"> <!-- IE10 viewport hack for Surface/desktop Windows 8 bug --> <link href="http://getbootstrap.com/examples/dashboard/dashboard.css" rel="stylesheet"> <!-- Custom styles for this template --> <link href="http://getbootstrap.com/dist/css/bootstrap.min.css" rel="stylesheet"> <div class="container-fluid"> <div class="row"> <div class="col-sm-3 col-md-2 sidebar" style="position: fixed"> <ul class="nav nav-sidebar"> <li class="active"><a href="/admin">Dashboard <span class="sr-only">(current)</span></a></li> <li><a href="/admin/usuarios">Usuarios</a></li> <li><a href="/admin/anuncios">Anuncios</a></li> <li><a href="/admin/settings">Configuraciones</a></li> </ul> </div> <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main"> <h1 class="page-header">Dashboard</h1> <div class="row placeholders"> <div class="col-xs-6 col-sm-3 placeholder"> <img src="data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" width="200" height="200" class="img-responsive" alt="Generic placeholder thumbnail"> <h4>Label</h4> <span class="text-muted">Something else</span> </div> <div class="col-xs-6 col-sm-3 placeholder"> <img src="data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" width="200" height="200" class="img-responsive" alt="Generic placeholder thumbnail"> <h4>Label</h4> <span class="text-muted">Something else</span> </div> <div class="col-xs-6 col-sm-3 placeholder"> <img src="data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" width="200" height="200" class="img-responsive" alt="Generic placeholder thumbnail"> <h4>Label</h4> <span class="text-muted">Something else</span> </div> <div class="col-xs-6 col-sm-3 placeholder"> <img src="data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" width="200" height="200" class="img-responsive" alt="Generic placeholder thumbnail"> <h4>Label</h4> <span class="text-muted">Something else</span> </div> </div>    </div> </div> </div> '),a.put("views/admin/header_admin.html",'<nav class="navbar navbar-inverse navbar-fixed-top"> <div class="container-fluid"> <div class="navbar-header"> <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" href="#">{{titleName}}</a> </div> <div id="navbar" class="navbar-collapse collapse"> <ul class="nav navbar-nav navbar-right"> </ul> <form class="navbar-form navbar-right"> <input type="text" class="form-control" placeholder="Search..."> </form> </div> </div> </nav>'),a.put("views/admin/settings.html",'<!-- Bootstrap core CSS --> <link href="http://getbootstrap.com/assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet"> <link href="http://getbootstrap.com/dist/css/bootstrap.min.css" rel="stylesheet"> <meta name="viewport" content="width=device-width,initial-scale=1"> <!-- IE10 viewport hack for Surface/desktop Windows 8 bug --> <link href="http://getbootstrap.com/examples/dashboard/dashboard.css" rel="stylesheet"> <!-- Custom styles for this template --> <link href="http://getbootstrap.com/dist/css/bootstrap.min.css" rel="stylesheet"> <div class="container-fluid"> <div class="row"> <div class="col-sm-3 col-md-2 sidebar" style="position: fixed"> <ul class="nav nav-sidebar"> <li><a href="/admin">Dashboard <span class="sr-only">(current)</span></a></li> <li><a href="/admin/usuarios">Usuarios</a></li> <li><a href="/admin/anuncios">Anuncios</a></li> <li class="active"><a href="/admin/settings">Configuraciones</a></li> </ul> </div> <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main"> <h2 class="sub-header">Configuraciones</h2> <input type="checkbox" ng-checked="datagrama[0].donate" name="donation" value="donation" ng-model="datagrama[0].donate" ng-change="activateDonation(datagrama[0].donate)"> <span>Activar donaciones</span> <br> <input type="checkbox" ng-checked="datagrama[0].topbarBool" name="header" value="header" ng-model="datagrama[0].topbarBool" ng-change="activateHeader(datagrama[0].topbarBool)"> <span>Activar mensaje header</span> <textarea name="text" ng-model="text" class="form-control" placeholder="{{datagrama[0].topbarText}}"></textarea> <br> <input class="btn btn-lg btn-primary btn-block" type="submit" value="Enviar" ng-click="addText(text)"> </div> </div> </div>'),a.put("views/admin/usuarios.html",'<!-- Bootstrap core CSS --> <link href="http://getbootstrap.com/assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet"> <link href="http://getbootstrap.com/dist/css/bootstrap.min.css" rel="stylesheet"> <meta name="viewport" content="width=device-width,initial-scale=1"> <!-- IE10 viewport hack for Surface/desktop Windows 8 bug --> <link href="http://getbootstrap.com/examples/dashboard/dashboard.css" rel="stylesheet"> <!-- Custom styles for this template --> <link href="http://getbootstrap.com/dist/css/bootstrap.min.css" rel="stylesheet"> <div class="container-fluid"> <div class="row"> <div class="col-sm-3 col-md-2 sidebar" style="position: fixed"> <ul class="nav nav-sidebar"> <li><a href="/admin">Dashboard <span class="sr-only">(current)</span></a></li> <li class="active"><a href="/admin/usuarios">Usuarios</a></li> <li><a href="/admin/anuncios">Anuncios</a></li> <li><a href="/admin/settings">Configuraciones</a></li> </ul> </div> <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main"> <h1 class="page-header">Dashboard</h1> <h2 class="sub-header">Usuarios</h2> <div class="table-responsive"> <table class="table table-striped"> <thead> <tr> <th>ID</th> <th>Email</th> <th>Nick</th> <th>Role</th> </tr> </thead> <tbody> <tr ng-repeat="user in message track by user._id"> <td ng-model="id">{{user._id}}</td> <td>{{user.email}}</td> <td>{{user.nick}}</td> <td>{{user.role}}</td> <td><a href="" ng-click="delete(user._id)"> X </a></td> </tr> </tbody> </table> </div> </div> </div> </div>'),a.put("views/board.html",'<div class="container" >\n\n     <div class="row">\n       <div class="col-sm-8 blog-main">\n         <div class="row">\n          <!-- imagenes -->\n   <div class="col-sm-6 col-md-12">\n     <div class="thumbnail">\n     <img src="{{image.path}}" alt="...">\n       <div class="caption">\n         <center>\n         <button ng-click="votarPos(image._id)" ng-disabled="disablePos" class="glyphicon glyphicon-thumbs-up gi-2x buttonVotes" style="color:green">{{image.votes.positives }}</button>\n          &nbsp <button ng-click="votarNeg(image._id)" ng-disabled="disableNeg" class="glyphicon glyphicon-thumbs-down gi-2x buttonVotes" style="color:red" >{{image.votes.negatives }}</button>\n         </center>\n         <hr/>\n         <div class="row">\n        <input ng-click="delete(image._id)" value="Eliminar imagen" class="btn btn-danger pull-right" ng-show="value">\n      </div>\n   \n         <p>Tags: </p>  \n         <ol class="breadcrumb">\n            <li>{{image.tags}}</li>\n         </ol> \n  \n   <center>\n      \n        <a class="fa fa-twitter fa-2x social-fap" style="color:#0D9AE1"\n          socialshare\n          socialshare-provider="twitter"\n          socialshare-text="Faptoría - placer erótico"\n          socialshare-hashtags="faptoría , chicas desnudas"\n          socialshare-url="http://chicas.faptoria.org/tablero/{{image._id}}">\n        </a>\n\n        <a class="fa fa-facebook-official fa-2x"  style="color:blue"\n        socialshare\n        socialshare-provider="facebook"\n        socialshare-text="Faptoría - placer erótico"\n        socialshare-hashtags="faptoría , chicas desnudas"\n        socialshare-url="http://chicas.faptoria.org/tablero/{{image._id}}">\n        </a>\n\n        <a class="fa fa-google-plus-official fa-2x"  style="color:red"\n        socialshare\n        socialshare-provider="google"\n        socialshare-text="Faptoría - placer erótico"\n         socialshare-hashtags="faptoría , chicas desnudas"\n        socialshare-url="http://chicas.faptoria.org/tablero/{{image._id}}" aria-hidden="true">\n        </a>\n\n        <a class="fa fa-tumblr fa-2x"  style="color:#285674"\n        socialshare\n        socialshare-provider="tumblr"\n        socialshare-text="Faptoría - placer erótico"\n        socialshare-hashtags="faptoría , chicas desnudas"\n        socialshare-url="http://chicas.faptoria.org/tablero/{{image._id}}" \n        aria-hidden="true">\n        </a>\n\n        <a class="fa fa-stumbleupon fa-2x" style="color:#E1730D"\n        socialshare\n        socialshare-provider="stumbleupon"\n        socialshare-text="Faptoría - placer erótico"\n        socialshare-hashtags="faptoría , chicas desnudas"\n        socialshare-url="http://chicas.faptoria.org/tablero/{{image._id}}" \n         aria-hidden="true">\n        </a>\n\n        <a class="fa fa-pinterest-p fa-2x" style="color:red"\n        socialshare\n        socialshare-provider="pinterest"\n        socialshare-text="Faptoría - placer erótico"\n        socialshare-hashtags="faptoría , chicas desnudas"\n        socialshare-url="http://chicas.faptoria.org/tablero/{{image._id}}" \n         aria-hidden="true">\n        </a>\n\n        <a class="fa fa-whatsapp fa-2x" style="color:green"\n        socialshare\n        socialshare-provider="whatsapp"\n        socialshare-text="Faptoría - placer erótico"\n        socialshare-hashtags="faptoría , chicas desnudas"\n        socialshare-url="http://chicas.faptoria.org/tablero/{{image._id}}" \n         aria-hidden="true">\n        </a>\n\n    </center>\n      <hr>\n     <center>\n            <div class="sidebar-module sidebar-module-inset" ng-repeat="ad in ads">\n             <div ng-bind-html="ad.content"></div>\n            </div>\n      </center>\n\n       </div>\n     </div>\n\n   </div>\n </div>\n\n <script type="text/javascript">\n var ad_idzone = "2062893",\n          ad_width = "300",\n          ad_height = "100";\n </script>\n <script type="text/javascript" src="https://ads.exoclick.com/ads.js"></script>\n <noscript><a href="http://main.exoclick.com/img-click.php?idzone=2062893" target="_blank"><img src="https://syndication.exoclick.com/a$\n <script type="text/javascript" src="http://syndication.exoclick.com/splash.php?idzone=1834618&type=11"></script>\n\n\n \n       </div><!-- /.blog-main -->\n\n     </div><!-- /.row -->\n\n   </div><!-- /.container -->\n'),
a.put("views/contacto.html",'<div id="todo-form" class="row"> <div class="col-sm-8 col-sm-offset-2"> <center> <!-- BIND THIS VALUE TO formData.text IN ANGULAR --> <h2> <p>¿Tienes alguna sugerencia? </p> <p> ¿Te gustaría ser moderador? </p> </h2> <form action="MAILTO:openarycorp@gmail.com" method="post" enctype="text/plain" class="form-signin"> E-mail:<br> <input type="text" name="mail" class="form-control"><br> Comentario:<br> <textarea name="comment" size="50" class="form-control"></textarea><br><br> <button type="submit" class="btn btn-danger" value="Enviar" class="btn btn-danger">Enviar</button> <button type="reset" value="Reset" class="btn">Reset</button> </form> <sub> openarycorp@gmail.com</sub> </center> <br> </div> </div>'),a.put("views/header.html",'<div ng-controller="HeadercontrollerCtrl"> <nav class="navbar navbar-inverse" style="border-bottom: 1px solid #aaa"> <div class="container-fluid"> <div class="navbar-header"> <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="" href="/"> <img alt="logo" class="col-xs-7 col-md-3" src="../images/logo.8f810b39.png" style="position:absolute"> </a> </div> <div class="collapse navbar-collapse" id="navbar"> <ul class="nav navbar-nav navbar-right"> <li class="active"> <a ng-show="valueShow"> Hola {{nombres}} </a></li><li> </li><li class="active"> <a ng-href="/{{signOrLog}}"> {{signOrLog}} </a></li><li> </li><li> <button ng-show="valueShow" type="button" class="btn btn-danger btn-lg pull-right md-warn md-raised md-hue-2" data-toggle="modal" data-target="#myModals"> Salir </button> </li> <li class="active"><a ng-href="/registro" ng-show="!valueShow">Registrar</a></li> </ul> <ul class="nav navbar-nav navbar-right"> <li><a href="/">Inicio</a></li> <li><a ng-href="/subir">Subir imagen</a></li> <li> <a href="/moderar">Moderar</a></li> <li><a ng-href="/contacto">Contacto</a></li> </ul> </div> </div> <!--<img alt="logo" class="col-xs-7 col-md-3" src="../images/logo.8f810b39.png" style="position:absolute;"> --> <div class="modal fade" id="myModals" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"> <div class="modal-dialog" role="document"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title" id="myModalLabel">Nooooo...</h4> </div> <div class="modal-body"> ¿Estás seguro que quieres salir? </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal">No</button> <button type="button" ng-click="salir()" class="btn btn-primary">Sí</button> </div> </div> </div> </div> </nav> <br> <div class="alert alert-info" role="alert" ng-show="datagram[0].topbarBool"> <button type="button" class="close" data-dismiss="alert" aria-label="Close"></button> <strong>{{datagram[0].topbarText}}</strong> </div> <div class="col-sm-6 col-sm-offset-9" ng-show="datagram[0].donate"> <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank"> <input type="hidden" name="cmd" value="_s-xclick"> <input type="hidden" name="hosted_button_id" value="Z3TYP7TLQDEQE"> <input type="image" src="https://www.paypalobjects.com/es_XC/MX/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal, la forma más segura y rápida de pagar en línea."> <img alt="" border="0" src="https://www.paypalobjects.com/es_XC/i/scr/pixel.gif" width="1" height="1"> </form> </div> </div>'),a.put("views/home.html",'<div class="container" ng-init="contadorPos=0; contadorNeg=0"> <div class="blog-header"> </div> <br> <div class="row"> <div class="col-sm-8 blog-main"> <div class="row"> <!-- imagenes --> <div class="col-sm-12 col-md-12" ng-repeat="(key ,img) in images |  orderBy: \'$index\':true | limitTo: 10 " ng-if="img.index" width="100%"> <div class="thumbnail"> <a href="/tablero/{{img._id}}"> <img ng-src="{{img.path}}" alt="{{img.title}}"></a> <div class="caption"> <center><h4> {{img.title}} </h4></center> <hr> <div class="pull-left"> <button ng-click="votarPos(img._id , img.votes.negatives, key)" ng-disabled="disablePos[key]" class="glyphicon glyphicon-thumbs-up gi-2x buttonVotes" style="color:green">{{img.votes.positives + contadorPos}}</button> &nbsp <button ng-click="votarNeg(img._id, img.votes.positives, key)" ng-disabled="disableNeg[key]" class="glyphicon glyphicon-thumbs-down gi-2x buttonVotes" style="color:red">{{img.votes.negatives + contadorNeg}}</button> </div> <div class="row"> <input value="Eliminar imagen" class="btn btn-danger pull-right" ng-show="value" data-toggle="modal" data-target="#modalIndex"> </div> <hr> <p>Tags: </p> <ol class="breadcrumb"> <li>{{img.tags}}</li> </ol> <center> <a class="fa fa-twitter fa-2x social-fap" style="color:#0D9AE1" socialshare socialshare-provider="twitter" socialshare-text="Faptoría - placer erótico" socialshare-hashtags="faptoría , chicas desnudas" socialshare-url="http://chicas.faptoria.org/tablero/{{img._id}}"> </a> <a class="fa fa-facebook-official fa-2x" style="color:blue" socialshare socialshare-provider="facebook" socialshare-text="Faptoría - placer erótico" socialshare-hashtags="faptoría , chicas desnudas" socialshare-url="http://chicas.faptoria.org/tablero/{{img._id}}"> </a> <a class="fa fa-google-plus-official fa-2x" style="color:red" socialshare socialshare-provider="google" socialshare-text="Faptoría - placer erótico" socialshare-hashtags="faptoría , chicas desnudas" socialshare-url="http://chicas.faptoria.org/tablero/{{img._id}}" aria-hidden="true"> </a> <a class="fa fa-tumblr fa-2x" style="color:#285674" socialshare socialshare-provider="tumblr" socialshare-text="Faptoría - placer erótico" socialshare-hashtags="faptoría , chicas desnudas" socialshare-url="http://chicas.faptoria.org/tablero/{{img._id}}" aria-hidden="true"> </a> <a class="fa fa-stumbleupon fa-2x" style="color:#E1730D" socialshare socialshare-provider="stumbleupon" socialshare-text="Faptoría - placer erótico" socialshare-hashtags="faptoría , chicas desnudas" socialshare-url="http://chicas.faptoria.org/tablero/{{img._id}}" aria-hidden="true"> </a> <a class="fa fa-pinterest-p fa-2x" style="color:red" socialshare socialshare-provider="pinterest" socialshare-text="Faptoría - placer erótico" socialshare-hashtags="faptoría , chicas desnudas" socialshare-url="http://chicas.faptoria.org/tablero/{{img._id}}" aria-hidden="true"> </a> <a class="fa fa-whatsapp fa-2x" style="color:green" socialshare socialshare-provider="whatsapp" socialshare-text="Faptoría - placer erótico" socialshare-hashtags="faptoría , chicas desnudas" socialshare-url="http://chicas.faptoria.org/tablero/{{img._id}}" aria-hidden="true"> </a> </center> <hr> <center> <div class="sidebar-module sidebar-module-inset" ng-repeat="ad in ads"> <div ng-bind-html="ad.content"></div> </div> </center> </div> </div> <hr> <div class="modal fade" id="modalIndex" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"> <div class="modal-dialog" role="document"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title" id="myModalLabel">Nooooo...</h4> </div> <div class="modal-body"> ¿Estás seguro que quieres eliminar la imagen? </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal">No</button> <button type="button" ng-click="delete(img._id)" class="btn btn-primary" data-dismiss="modal">Sí</button> </div> </div> </div> </div> <!-- fin imagenes --> </div> </div> <center> <div paging page="currentPage" page-size="10" total="total" pg-href="/page/{page}" paging-action="DoCtrlPagingAct(\'Paging Clicked\', page, pageSize, total)"> </div> </center> </div><!-- /.blog-main --> </div><!-- /.row --> </div><!-- /.container -->'),a.put("views/login/login.html",'<div class="container"> <h4>{{message}}</h4> <form class="form-signin" ng-submit="login()"> <h2 class="form-signin-heading">Entrar</h2> <label for="inputEmail" class="sr-only">Email</label> <input type="email" id="email" class="form-control" placeholder="Email" required autofocus ng-model="formLogin.email"> <label for="inputPassword" class="sr-only">Contraseña</label> <input type="password" id="password" class="form-control" placeholder="Contraseña" required ng-model="formLogin.password"> <br> <button class="btn btn-lg btn-primary btn-block" type="submit">Entrar</button> </form> </div> <!-- /container --> <br>'),a.put("views/login/signup.html",'<div class="container"> <h4> {{message}} </h4> <form class="form-signin" ng-submit="signup()"> <h2 class="form-signin-heading">Registro</h2> <label for="inputEmail" class="sr-only">Email</label> <input type="email" id="inputEmail" class="form-control" placeholder="Email" required autofocus ng-model="formSignup.email"> <label for="inputEmail" class="sr-only">Nick</label> <input type="text" id="inputEmail" class="form-control" placeholder="Nick" required autofocus ng-model="formSignup.nick"> <label for="inputPassword" class="sr-only">Contraseña</label> <input type="password" id="inputPassword" class="form-control" placeholder="Contraseña" required ng-model="formSignup.password"> <div class="checkbox"> <center> <no-captcha g-recaptcha-response="gRecaptchaResponse" control="noCaptchaControl"> </no-captcha> </center> </div> <button class="btn btn-lg btn-primary btn-block" type="submit">Registrarse</button> </form> </div> <!-- /container --> <br>'),a.put("views/moderar.html",'<div class="container"> <div class="row"> <div class="col-sm-8 blog-main"> <div class="row"> <h4> {{message}} </h4> <!-- imagenes --> <div class="col-sm-6 col-md-12" ng-if="!images[random].index" ng-show="show"> <div class="thumbnail"> <img ng-src="{{images[random].path}}" alt="{{images[random].title}}"> <div class="caption"> <h3> {{images[random].title}}</h3> <hr> <center> <button ng-click="votarPos(images[random]._id)" ng-model="votes" ng-disabled="disablePos" class="glyphicon glyphicon-thumbs-up gi-2x buttonVotes" style="color:green">{{images[random].votes.positives }}</button> &nbsp <button ng-click="votarNeg(images[random]._id)" class="glyphicon glyphicon-thumbs-down gi-2x buttonVotes" ng-disabled="disableNeg" style="color:red">{{images[random].votes.negatives }}</button> </center> <hr> <div class="row"> <input ng-click="approve(images[random]._id)" value="Aprobar imagen" class="btn btn-success pull-left" ng-show="value"> <input value="Eliminar imagen" class="btn btn-danger pull-right" ng-show="value" data-toggle="modal" data-target="#modalModerate"> </div> <hr ng-show="value"> <p>Etiquetas:</p> <ol class="alert alert-warning"> <li>{{images[random].tags}}</li> </ol> </div> </div><hr> <div class="modal fade" id="modalModerate" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"> <div class="modal-dialog" role="document"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title" id="myModalLabel">Nooooo...</h4> </div> <div class="modal-body"> ¿Estás seguro que quieres eliminar la imagen? </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal">No</button> <button type="button" ng-click="delete(images[random]._id)" class="btn btn-primary" data-dismiss="modal">Sí</button> </div> </div> </div> </div> <!-- fin imagenes --> </div> </div> <nav> <ul class="pager"> <li><button href="/#/moderar" class="btn-lg btn-danger" onclick="window.location.reload()">Siguiente</button></li> </ul> </nav> </div><!-- /.blog-main --> </div><!-- /.row --> </div><!-- /.container -->'),a.put("views/sidebar.html",'<br><br> <div class="blog-sidebar"> <div ng-repeat="article in articles"> <div class="sidebar-module sidebar-module-inset"> <h4>{{article.title}}</h4> <div ng-bind-html="article.content"></div> </div> </div> <div class="sidebar-module"> <h4>Social</h4> <ul class="list-unstyled"> <li><iframe src="https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2FFaptoria-958387407609307%2F&tabs=timeline&width=280&height=400&small_header=true&adapt_container_width=true&hide_cover=false&show_facepile=false&appId" width="280" height="390" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowtransparency="true"></iframe></li> <li><a class="twitter-timeline" href="https://twitter.com/xxxsexfree" data-widget-id="731648932191703044"></a> </li> </ul> </div> </div><!-- /.blog-sidebar -->'),a.put("views/upload.html",'<div id="upload" class="row"> <div class="col-sm-8 col-sm-offset-4 text-center"> <div class="form-group"> <!-- BIND THIS VALUE TO formData.text IN ANGULAR action="/api/upload"--> <p> <h2> Subir imagen </h2></p> {{message}} <br> <form ng-show="value" enctype="multipart/form-data" action="/api/upload" method="post"> <fieldset class="form-group"> <label>Título</label> <input type="text" class="form-control" name="title" ng-model="formImg.titulo" placeholder="Se original.." maxlength="20"> <small class="text-muted">20 caracteres máximo</small> </fieldset> <fieldset class="form-group"> <label>Etiquetas</label> <input type="text" class="form-control" name="tags" ng-model="formImg.tags" placeholder="sexy, desnuda" required> </fieldset> <small class="text-muted">Puedes separarlas por comas</small> <input type="text" name="idImage" ng-model="formImg.BoxId" style="display: none"> <br> <fieldset class="form-group"> <br> <label>Archivo</label> <input type="file" name="userPhoto" accept=".png, .jpg, .jpeg , .gif" data-max-size="4096" required> <small class="text-muted">Limite de imagen 4 MB.</small> </fieldset> <button type="submit" class="btn btn-danger">Subir imagen</button> </form> </div> </div> </div> <!--\n<form action="/api/upload" method="post" name="upload_form" >\n               Single Image with validations\n           <input\n              type="file"\n              ngf-select\n              ng-model="file"\n              name="file"\n              ngf-pattern="\'image/*\'"\n              accept="image/*"\n              ngf-max-size="20MB"\n              />\n           Image thumbnail: <img style="width:100px;" ngf-thumbnail="file || \'/thumb.jpg\'"/>\n           <i ng-show="up.upload_form.file.$error.required">*required</i><br>\n           <i ng-show="up.upload_form.file.$error.maxSize">File too large\n           {{file.size / 1000000|number:1}}MB: max 20M</i>\n           <button type="submit" >submit</button>\n           <p>{{progress}}</p>\n       </form>\n-->')}]);